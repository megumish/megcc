# 関数の戻り値について

再帰関数を内部で使うのでない限り、基本的にintを失敗か成功かの真偽値で返すことにした。

これは主に、ポインタの所有権の問題をややこしくしないために統一した方針である。

こうすることで構造体自身には外部から確保された領域を使わせ、構造体内部のメンバ変数には構造体を使用中に確保した領域を使わせることが明確にできるので、メモリリークなどのメモリの問題を防ぐことができる。

# Lexerでのクオートの対応について

Lexerでリテラルの文字列に対応することを一時考えたが、そうなると囲いコメントも同様に対応しなければいけなくなり

Lexerが複雑になりすぎるのでやめた。またシンボルに落とした段階の方がフォーマッターのようなツールを柔軟に作成できることもこのやり方のメリットと思われる。

記号「``!"#$%&\'()*+,-./:;<=>?@[\\]^_`{|}~``」はLexerの段階では一文字ずつPatternとして読み取っていくことにする。


# 次の方針について

DynamicBufferやDynamicQueueという型名は少し一般的すぎるので、後々変えるかもしれない。

DynamicQueueでは引数名をqueueにしているのに対して、DynamicBufferでは引数名をdynamic_bufferにしているのが統一感がないので、いずれ直す。（多分、短い方にする）

今作ってるTokenFactoryというのはLexerそのものな気がするので、後から名前を変えるかもしれない。